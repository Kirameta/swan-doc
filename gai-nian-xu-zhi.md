# 概念须知

### 任务

在Swan项目中，一个任务最多可以包含多离线交易。Swan有两种基本类型的任务：公开任务和私人任务。

另外，在公开任务中，又可以分为手动模式以及自动模式。自动模式指用户设置auto-bid自动竞价模式。Autobid是利用FilSwan 的存储服务商评价系统，自动选择最优质的服务提供商，为用户提供最优的解决方案。

#### 任务类型**:**

*   公开任务：

    公开任务是为公开出价设置的交易。所有存储提供商都有权对此任务进行竞拍。

    * 如果投标模式设置为手动，投标人中标后，任务持有者需要向中标者提出任务。
    * 如果投标模式设置为自动竞价，任务将根据声誉系统和市场匹配器(Market Match)自动分配给选定的存储提供商。自动投标模式是swan-client 和 swan-provider 之间的自动投标系统，允许您自动将交易发送给 Swan 平台选择的存储提供者。所有开启自动竞价模式的存储提供者都有机会被选中，但根据 Swan 声誉系统和 Market Matcher 只能选择一个。自动投标系统是一个基于[声誉的系统](filswan-platform/overview/reputation-system.md)。当用户注册为存储提供商时，他们处理的越多，他们作为存储提供商获得的分数就越高。
* 私人任务：
  * 私有任务用于向指定的存储提供者提出交易。即在提出交易时，直接输入指定存储提供者的ID账号。

#### 任务状态**:**

* <mark style="color:blue;">已创建</mark>: 两种情况可以导致已创建状态，一种是用户新建了task的时候，并且成功创建。另一种是在`ActionRequired(`需采取行动)被修改后，会变成已创建状态，
* <mark style="color:orange;">已分配</mark>: 任务已由用户手动分配或由自动竞价模式分配给存储提供者。
*   <mark style="color:red;">需采取行动</mark>: 这个状态只出现在开启自动竞价模式模式，即`bid_mode`设置为`1`，`public_deal`设置为`true时。`同时需要用户更改某些信息。这有可能是\[task-name.csv]中有一些信息缺失或无效导致的自动分配存储提供者失败。

    此时用户需要填写或修改文件，然后使用新的 csv 文件更新 Swan 平台上的任务信息。
* <mark style="color:green;">交易已发送</mark>: 任务已成功发送到存储提供者。

### 离线交易

一个离线交易的大小可以达到32GB. 如下图表格所示，建议创建一个包含task的uuid，provider\_id_,_ payload\_cid等的CSV文件.

| uuid                                 | provider\_id | deal\_cid | payload\_cid                                                |
| ------------------------------------ | ------------ | --------- | ----------------------------------------------------------- |
| 0b89e0cf-f3ec-41a3-8f1e-52b098f0c503 | f047419      | ---       | bafyreid7tw7mcwlj465dqudwanml3mueyzizezct6cm5a7g2djfxjfgxwm |

